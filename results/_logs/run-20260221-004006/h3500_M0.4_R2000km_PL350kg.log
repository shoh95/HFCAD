[command] /home/shoh95/anaconda3/envs/aerofc/bin/python /home/shoh95/Programming/HFCAD/app/main.py -i /home/shoh95/Programming/HFCAD/app/input_sweep_r22/h3500_M0.4_R2000km_PL350kg.ini --outdir /home/shoh95/Programming/HFCAD/results/input_sweep_r22
[start] 2026-02-21 00:43:58

Auto-widening W/S scan window for min_combined_pw: 1900.0..2600.0 -> 1725.0..2775.0 Pa (factor 1.500, lower_hit=True, upper_hit=False, min_on_edge=False).
Auto-widening W/S scan window for min_combined_pw: 1725.0..2775.0 -> 1462.5..3037.5 Pa (factor 1.500, lower_hit=True, upper_hit=False, min_on_edge=False).
ADRpy constraint sizing (min_combined_pw): W/S=2212.5 Pa (225.61 kg/m^2), P/W_TO=0.18089 kW/kg, P/W_climb=0.18132 kW/kg, P/W_cruise=0.14641 kW/kg
Curve minimum (combined/combined): W/S=2212.5 Pa (225.61 kg/m^2), P/W=0.18132 kW/kg
Curve minimum (takeoff/take-off): W/S=1462.5 Pa (149.13 kg/m^2), P/W=0.10196 kW/kg
Curve minimum (climb/climb): W/S=2312.5 Pa (235.81 kg/m^2), P/W=0.18016 kW/kg
Curve minimum (cruise/cruise): W/S=2312.5 Pa (235.81 kg/m^2), P/W=0.14175 kW/kg
======================================================
======================= ITER 1 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=1073.138 kW).

-----------------------
ptotal_climb: 1,246 kW, mtom_est: 6,287 kg, mtom: 5,000 kg, residual: +1,287.27 kg

MTOM update: initial_bracket_probe_1, relax=1.000 -> mtom_next=5,325.00 kg

======================================================
======================= ITER 2 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=1142.894 kW).

-----------------------
ptotal_climb: 1,327 kW, mtom_est: 6,573 kg, mtom: 5,325 kg, residual: +1,247.93 kg

MTOM update: initial_bracket_probe_2, relax=1.000 -> mtom_next=5,650.00 kg

======================================================
======================= ITER 3 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=1212.649 kW).

-----------------------
ptotal_climb: 1,408 kW, mtom_est: 6,860 kg, mtom: 5,650 kg, residual: +1,209.57 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=7,627.50 kg

======================================================
======================= ITER 4 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=1637.093 kW).

-----------------------
ptotal_climb: 1,901 kW, mtom_est: 8,611 kg, mtom: 7,628 kg, residual: +983.70 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=10,297.12 kg

======================================================
======================= ITER 5 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=2210.075 kW).

-----------------------
ptotal_climb: 2,566 kW, mtom_est: 10,996 kg, mtom: 10,297 kg, residual: +698.57 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=13,901.12 kg

======================================================
======================= ITER 6 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=2983.601 kW).

-----------------------
ptotal_climb: 3,464 kW, mtom_est: 14,247 kg, mtom: 13,901 kg, residual: +345.84 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=17,434.81 kg

======================================================
======================= ITER 7 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=3742.043 kW).

-----------------------
ptotal_climb: 4,344 kW, mtom_est: 17,468 kg, mtom: 17,435 kg, residual: +33.02 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=17,807.80 kg

======================================================
======================= ITER 8 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=3822.089 kW).

-----------------------
ptotal_climb: 4,437 kW, mtom_est: 17,808 kg, mtom: 17,808 kg, residual: +0.04 kg


CONVERGED

CONVERGED STATE [MTOM iteration 8]
  MTOM=17,808 kg | Wing loading=225.61 kg/m^2 | P/W(climb)=249.17 W/kg
  Phase power: climb=4,437.1 kW | cruise=3,822.1 kW | loiter=3,057.4 kW | takeoff=4,425.6 kW | cruise+charger=3,822.1 kW
  Power split (climb): FC=3,305.2 kW | Battery=1,101.7 kW | Compressor=30.2 kW | Cooling=1,437.9 kW | H2=85.977 g/s
  Compressor max across phases: 236.0 kW (cruise)
  FC representative phase (mass sizing): cruise (3,822.1 kW)
  Mass summary: MTOM=17,808 kg | Powertrain=5,984 kg | Tank=3,335.8 kg | Fuel=1,482.6 kg | Battery=752.1 kg | Nacelle power density=0.76 kW/kg
  Geometry: Main wing area=78.93 m^2 | Horizontal tail area=6.187 m^2 | Horizontal tail location=36.450 m | Vertical tail area=6.197 m^2 | Vertical tail location=35.845 m
  Config: wing loading input=225.61 kg/m^2 | P/W TO/Cl/Cr/Lo=0.18089/0.18132/0.14641/0.11713 kW/kg

=============================================================
========================= CONVERGED =========================
=============================================================
Constraint sizing: ENABLED (min_combined_pw)
Input W/S: 225.61 kg/m^2 (2,212.5 Pa)
Input P/W [kW/kg]: takeoff 0.18089, climb 0.18132, cruise 0.14641, loiter 0.11713
Converged P/W [kW/kg]: takeoff 0.24852, climb 0.24917, cruise 0.21463, loiter 0.17169
-------------------------------------------------------------

# Mission Time
Climb time: 8.83 min (0.15 h)
Cruise time: 237.08 min (3.95 h)
Total flight time: 267.92 min (4.47 h)

# Phase Power Breakdown
Phase      Time[min]     Total[kW]    FC Stack[kW]   Battery[kW]   Compressor[kW]   Cooling[kW]   mdot_H2[g/s]
--------------------------------------------------------------------------------------------------------------
ready           0.00         221.9           221.9           0.0              0.0           0.0         0.0
taxi            5.00         443.7           443.7           0.0              0.0           0.0         8.6
takeoff         1.00       4,425.6         3,297.5       1,099.2             29.0       1,258.0        78.0
climb           8.83       4,437.1         3,305.2       1,101.7             30.2       1,437.9        86.0
cruise        237.08       3,822.1         3,586.1           0.0            236.0       1,551.1        95.6
loiter         15.00       3,057.4         2,868.9           0.0            188.5       1,255.4        77.1
landing         1.00           0.0             0.0           0.0              0.0           0.0         0.0

Pcomp_max (solved phases): 236.0 kW (cruise)
Pnet (climb): 4,007 kW
Pelectricnet (climb): 4,407 kW
eta_pt: 0.9031

# Geometry
Main Wing Area: 78.93 m^2
Wingspan: 26.65 m
Fuselage Length: 38.73 m
Hydrogen Tank Length: 29.72 m
Horizontal Tail Area: 6.19 m^2
Vertical Tail Area: 6.20 m^2
Horizontal Tail span: 5.28 m
Vertical Tail span: 3.43 m
Horizontal Tail X_Position: 36.45 m
Vertical Tail X_Position: 35.85 m

# Single Nacelle (1/2)
Stack(1/2): 1,092 kg, Compressor: 179 kg, Humidifier: 366 kg, HX: 873 kg
Fuelcell System(FCS; Stack+Compressor+Humidifier+Hx): 2,509 kg
Representative FC phase: cruise
Specific Power of Fuelcell System: 0.762 kW/kg
Stack dimension: dX=0.364 m, dY=0.578 m, dZ=0.578 m
Heat Exchanger dimension: dX=2.091 m, dY=2.091 m, dZ=0.223 m

# ALL Nacelles
FCS_total: 5,018 kg
PMAD: 381 kg
Motors: 585 kg

# Total Mass Breakdown
-----------------------
Powertrain (FCS_total+PMAD+Motors): 5,984 kg
-----------------------
Main Wing: 1,665 kg
Horizontal Tail: 78 kg
Vertical Tail: 121 kg
Fuselage: 1,685 kg
Landing gear(main): 243 kg
Landing gear(nose): 65 kg
Flight Control System: 366 kg
Electric System: 300 kg
Instruments: 231 kg
Hydraulics: 214 kg
Furnishing: 936 kg
-----------------------
Operating Empty Mass(OEM): 5,903 kg
-----------------------
Hydrogen Tank: 3,336 kg
Hydrogen Fuel: 1,482.6 kg
Battery: 752.1 kg
-----------------------
Payload: 350 kg
-----------------------
Maximum Takeoff Mass(MTOM): 17,808 kg
-----------------------

Wing loading (MTOM/S_wing): 225.61 kg/m^2
Power-to-weight (maxPow/MTOM): 249.17 W/kg

mdot_H2(cruise): 95.6 g/s
Hydrogen Tank Volume: 63.5 m^3
========================== END ==============================


=============================================================
Execution time: 4.1 seconds
=============================================================
