[command] /home/shoh95/anaconda3/envs/aerofc/bin/python /home/shoh95/Programming/HFCAD/app/main.py -i /home/shoh95/Programming/HFCAD/app/input_sweep_r22/h3000_M0.25_R1000km_PL350kg.ini --outdir /home/shoh95/Programming/HFCAD/results/input_sweep_r22
[start] 2026-02-21 00:42:01

Auto-widening W/S scan window for min_combined_pw: 1900.0..2600.0 -> 1725.0..2775.0 Pa (factor 1.500, lower_hit=True, upper_hit=False, min_on_edge=False).
Auto-widening W/S scan window for min_combined_pw: 1725.0..2775.0 -> 1462.5..3037.5 Pa (factor 1.500, lower_hit=True, upper_hit=False, min_on_edge=False).
ADRpy constraint sizing (min_combined_pw): W/S=2162.5 Pa (220.51 kg/m^2), P/W_TO=0.17518 kW/kg, P/W_climb=0.17660 kW/kg, P/W_cruise=0.06207 kW/kg
Curve minimum (combined/combined): W/S=2162.5 Pa (220.51 kg/m^2), P/W=0.17660 kW/kg
Curve minimum (takeoff/take-off): W/S=1462.5 Pa (149.13 kg/m^2), P/W=0.10196 kW/kg
Curve minimum (climb/climb): W/S=2312.5 Pa (235.81 kg/m^2), P/W=0.17460 kW/kg
Curve minimum (cruise/cruise): W/S=2312.5 Pa (235.81 kg/m^2), P/W=0.06177 kW/kg
======================================================
======================= ITER 1 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=912.102 kW).

-----------------------
ptotal_climb: 1,213 kW, mtom_est: 4,898 kg, mtom: 5,000 kg, residual: -102.26 kg

MTOM update: initial_bracket_probe_1, relax=1.000 -> mtom_next=4,675.00 kg

======================================================
======================= ITER 2 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=852.822 kW).

-----------------------
ptotal_climb: 1,135 kW, mtom_est: 4,691 kg, mtom: 4,675 kg, residual: +15.86 kg

MTOM update: newton, relax=1.000 -> mtom_next=4,718.64 kg

======================================================
======================= ITER 3 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=860.775 kW).

-----------------------
ptotal_climb: 1,145 kW, mtom_est: 4,718 kg, mtom: 4,719 kg, residual: -1.13 kg


CONVERGED

CONVERGED STATE [MTOM iteration 3]
  MTOM=4,718 kg | Wing loading=220.46 kg/m^2 | P/W(climb)=242.74 W/kg
  Phase power: climb=1,145.1 kW | cruise=424.7 kW | loiter=339.8 kW | takeoff=1,135.6 kW | cruise+charger=424.7 kW
  Power split (climb): FC=853.0 kW | Battery=284.3 kW | Compressor=7.7 kW | Cooling=375.4 kW | H2=22.211 g/s
  Compressor max across phases: 21.9 kW (cruise)
  FC representative phase (mass sizing): climb (860.8 kW)
  Mass summary: MTOM=4,718 kg | Powertrain=1,599 kg | Tank=306.9 kg | Fuel=136.4 kg | Battery=169.1 kg | Nacelle power density=0.64 kW/kg
  Geometry: Main wing area=21.40 m^2 | Horizontal tail area=3.455 m^2 | Horizontal tail location=9.892 m | Vertical tail area=3.506 m^2 | Vertical tail location=9.504 m
  Config: wing loading input=220.51 kg/m^2 | P/W TO/Cl/Cr/Lo=0.17518/0.17660/0.06207/0.04966 kW/kg

=============================================================
========================= CONVERGED =========================
=============================================================
Constraint sizing: ENABLED (min_combined_pw)
Input W/S: 220.51 kg/m^2 (2,162.5 Pa)
Input P/W [kW/kg]: takeoff 0.17518, climb 0.17660, cruise 0.06207, loiter 0.04966
Converged P/W [kW/kg]: takeoff 0.24073, climb 0.24274, cruise 0.09003, loiter 0.07202
-------------------------------------------------------------

# Mission Time
Climb time: 7.57 min (0.13 h)
Cruise time: 182.46 min (3.04 h)
Total flight time: 212.03 min (3.53 h)

# Phase Power Breakdown
Phase      Time[min]     Total[kW]    FC Stack[kW]   Battery[kW]   Compressor[kW]   Cooling[kW]   mdot_H2[g/s]
--------------------------------------------------------------------------------------------------------------
ready           0.00          57.3            57.3           0.0              0.0           0.0         0.0
taxi            5.00         114.5           114.5           0.0              0.0           0.0         2.2
takeoff         1.00       1,135.6           846.2         282.1              7.4         326.2        20.0
climb           7.57       1,145.1           853.0         284.3              7.7         375.4        22.2
cruise        182.46         424.7           402.9           0.0             21.9         176.0        10.7
loiter         15.00         339.8           322.3           0.0             17.5         141.6         8.6
landing         1.00           0.0             0.0           0.0              0.0           0.0         0.0

Pcomp_max (solved phases): 21.9 kW (cruise)
Pnet (climb): 1,034 kW
Pelectricnet (climb): 1,137 kW
eta_pt: 0.9031

# Geometry
Main Wing Area: 21.40 m^2
Wingspan: 13.88 m
Fuselage Length: 11.74 m
Hydrogen Tank Length: 2.73 m
Horizontal Tail Area: 3.45 m^2
Vertical Tail Area: 3.51 m^2
Horizontal Tail span: 3.94 m
Vertical Tail span: 2.58 m
Horizontal Tail X_Position: 9.89 m
Vertical Tail X_Position: 9.50 m

# Single Nacelle (1/2)
Stack(1/2): 252 kg, Compressor: 18 kg, Humidifier: 101 kg, HX: 304 kg
Fuelcell System(FCS; Stack+Compressor+Humidifier+Hx): 675 kg
Representative FC phase: climb
Specific Power of Fuelcell System: 0.638 kW/kg
Stack dimension: dX=0.391 m, dY=0.268 m, dZ=0.268 m
Heat Exchanger dimension: dX=1.302 m, dY=1.302 m, dZ=0.201 m

# ALL Nacelles
FCS_total: 1,350 kg
PMAD: 99 kg
Motors: 151 kg

# Total Mass Breakdown
-----------------------
Powertrain (FCS_total+PMAD+Motors): 1,599 kg
-----------------------
Main Wing: 321 kg
Horizontal Tail: 22 kg
Vertical Tail: 44 kg
Fuselage: 300 kg
Landing gear(main): 243 kg
Landing gear(nose): 65 kg
Flight Control System: 366 kg
Electric System: 300 kg
Instruments: 71 kg
Hydraulics: 57 kg
Furnishing: 368 kg
-----------------------
Operating Empty Mass(OEM): 2,156 kg
-----------------------
Hydrogen Tank: 307 kg
Hydrogen Fuel: 136.4 kg
Battery: 169.1 kg
-----------------------
Payload: 350 kg
-----------------------
Maximum Takeoff Mass(MTOM): 4,718 kg
-----------------------

Wing loading (MTOM/S_wing): 220.46 kg/m^2
Power-to-weight (maxPow/MTOM): 242.74 W/kg

mdot_H2(cruise): 10.7 g/s
Hydrogen Tank Volume: 5.8 m^3
========================== END ==============================


=============================================================
Execution time: 3.0 seconds
=============================================================
