[command] /home/shoh95/anaconda3/envs/aerofc/bin/python /home/shoh95/Programming/HFCAD/app/main.py -i /home/shoh95/Programming/HFCAD/app/input_sweep_r22/h4500_M0.25_R1250km_PL1500kg.ini --outdir /home/shoh95/Programming/HFCAD/results/input_sweep_r22
[start] 2026-02-21 00:45:07

Auto-widening W/S scan window for min_combined_pw: 1900.0..2600.0 -> 1725.0..2775.0 Pa (factor 1.500, lower_hit=True, upper_hit=False, min_on_edge=False).
Auto-widening W/S scan window for min_combined_pw: 1725.0..2775.0 -> 1462.5..3037.5 Pa (factor 1.500, lower_hit=True, upper_hit=False, min_on_edge=False).
ADRpy constraint sizing (min_combined_pw): W/S=2262.5 Pa (230.71 kg/m^2), P/W_TO=0.18667 kW/kg, P/W_climb=0.19016 kW/kg, P/W_cruise=0.06111 kW/kg
Curve minimum (combined/combined): W/S=2262.5 Pa (230.71 kg/m^2), P/W=0.19016 kW/kg
Curve minimum (takeoff/take-off): W/S=1462.5 Pa (149.13 kg/m^2), P/W=0.10196 kW/kg
Curve minimum (climb/climb): W/S=2312.5 Pa (235.81 kg/m^2), P/W=0.18959 kW/kg
Curve minimum (cruise/cruise): W/S=1962.5 Pa (200.12 kg/m^2), P/W=0.06057 kW/kg
======================================================
======================= ITER 1 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=982.400 kW).

-----------------------
ptotal_climb: 1,307 kW, mtom_est: 6,665 kg, mtom: 5,000 kg, residual: +1,665.08 kg

MTOM update: initial_bracket_probe_1, relax=1.000 -> mtom_next=5,325.00 kg

======================================================
======================= ITER 2 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=1046.249 kW).

-----------------------
ptotal_climb: 1,392 kW, mtom_est: 6,911 kg, mtom: 5,325 kg, residual: +1,586.10 kg

MTOM update: initial_bracket_probe_2, relax=1.000 -> mtom_next=5,650.00 kg

======================================================
======================= ITER 3 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=1110.105 kW).

-----------------------
ptotal_climb: 1,477 kW, mtom_est: 7,160 kg, mtom: 5,650 kg, residual: +1,510.20 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=7,627.50 kg

======================================================
======================= ITER 4 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=1498.651 kW).

-----------------------
ptotal_climb: 1,994 kW, mtom_est: 8,686 kg, mtom: 7,628 kg, residual: +1,058.23 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=10,297.12 kg

======================================================
======================= ITER 5 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=2023.178 kW).

-----------------------
ptotal_climb: 2,691 kW, mtom_est: 10,766 kg, mtom: 10,297 kg, residual: +469.07 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=12,422.60 kg

======================================================
======================= ITER 6 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=2440.792 kW).

-----------------------
ptotal_climb: 3,247 kW, mtom_est: 12,440 kg, mtom: 12,423 kg, residual: +17.87 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=12,506.79 kg

======================================================
======================= ITER 7 =======================
Fuel-cell system mass representative phase: climb (P_fc_sys=2457.332 kW).

-----------------------
ptotal_climb: 3,269 kW, mtom_est: 12,505 kg, mtom: 12,507 kg, residual: -1.47 kg


CONVERGED

CONVERGED STATE [MTOM iteration 7]
  MTOM=12,505 kg | Wing loading=230.68 kg/m^2 | P/W(climb)=261.40 W/kg
  Phase power: climb=3,268.8 kW | cruise=1,145.9 kW | loiter=916.7 kW | takeoff=3,207.4 kW | cruise+charger=1,145.9 kW
  Power split (climb): FC=2,434.5 kW | Battery=811.5 kW | Compressor=22.8 kW | Cooling=1,142.7 kW | H2=67.937 g/s
  Compressor max across phases: 94.7 kW (cruise)
  FC representative phase (mass sizing): climb (2,457.3 kW)
  Mass summary: MTOM=12,505 kg | Powertrain=5,067 kg | Tank=1,109.8 kg | Fuel=493.3 kg | Battery=695.3 kg | Nacelle power density=0.56 kW/kg
  Geometry: Main wing area=54.21 m^2 | Horizontal tail area=8.294 m^2 | Horizontal tail location=16.357 m | Vertical tail area=8.556 m^2 | Vertical tail location=15.565 m
  Config: wing loading input=230.71 kg/m^2 | P/W TO/Cl/Cr/Lo=0.18667/0.19016/0.06111/0.04889 kW/kg

=============================================================
========================= CONVERGED =========================
=============================================================
Constraint sizing: ENABLED (min_combined_pw)
Input W/S: 230.71 kg/m^2 (2,262.5 Pa)
Input P/W [kW/kg]: takeoff 0.18667, climb 0.19016, cruise 0.06111, loiter 0.04889
Converged P/W [kW/kg]: takeoff 0.25648, climb 0.26140, cruise 0.09163, loiter 0.07331
-------------------------------------------------------------

# Mission Time
Climb time: 11.36 min (0.19 h)
Cruise time: 233.92 min (3.90 h)
Total flight time: 267.27 min (4.45 h)

# Phase Power Breakdown
Phase      Time[min]     Total[kW]    FC Stack[kW]   Battery[kW]   Compressor[kW]   Cooling[kW]   mdot_H2[g/s]
--------------------------------------------------------------------------------------------------------------
ready           0.00         163.4           163.4           0.0              0.0           0.0         0.0
taxi            5.00         326.9           326.9           0.0              0.0           0.0         6.8
takeoff         1.00       3,207.4         2,389.8         796.6             21.0         895.6        56.5
climb          11.36       3,268.8         2,434.5         811.5             22.8       1,142.7        67.9
cruise        233.92       1,145.9         1,051.2           0.0             94.7         481.4        29.9
loiter         15.00         916.7           840.9           0.0             75.8         387.2        24.0
landing         1.00           0.0             0.0           0.0              0.0           0.0         0.0

Pcomp_max (solved phases): 94.7 kW (cruise)
Pnet (climb): 2,952 kW
Pelectricnet (climb): 3,246 kW
eta_pt: 0.9031

# Geometry
Main Wing Area: 54.21 m^2
Wingspan: 22.09 m
Fuselage Length: 18.90 m
Hydrogen Tank Length: 9.89 m
Horizontal Tail Area: 8.29 m^2
Vertical Tail Area: 8.56 m^2
Horizontal Tail span: 6.11 m
Vertical Tail span: 4.03 m
Horizontal Tail X_Position: 16.36 m
Vertical Tail X_Position: 15.57 m

# Single Nacelle (1/2)
Stack(1/2): 765 kg, Compressor: 67 kg, Humidifier: 360 kg, HX: 982 kg
Fuelcell System(FCS; Stack+Compressor+Humidifier+Hx): 2,175 kg
Representative FC phase: climb
Specific Power of Fuelcell System: 0.565 kW/kg
Stack dimension: dX=0.415 m, dY=0.453 m, dZ=0.453 m
Heat Exchanger dimension: dX=2.373 m, dY=2.373 m, dZ=0.195 m

# ALL Nacelles
FCS_total: 4,350 kg
PMAD: 286 kg
Motors: 431 kg

# Total Mass Breakdown
-----------------------
Powertrain (FCS_total+PMAD+Motors): 5,067 kg
-----------------------
Main Wing: 1,046 kg
Horizontal Tail: 78 kg
Vertical Tail: 117 kg
Fuselage: 572 kg
Landing gear(main): 243 kg
Landing gear(nose): 65 kg
Flight Control System: 366 kg
Electric System: 300 kg
Instruments: 166 kg
Hydraulics: 150 kg
Furnishing: 537 kg
-----------------------
Operating Empty Mass(OEM): 3,640 kg
-----------------------
Hydrogen Tank: 1,110 kg
Hydrogen Fuel: 493.3 kg
Battery: 695.3 kg
-----------------------
Payload: 1,500 kg
-----------------------
Maximum Takeoff Mass(MTOM): 12,505 kg
-----------------------

Wing loading (MTOM/S_wing): 230.68 kg/m^2
Power-to-weight (maxPow/MTOM): 261.40 W/kg

mdot_H2(cruise): 29.9 g/s
Hydrogen Tank Volume: 21.1 m^3
========================== END ==============================


=============================================================
Execution time: 3.8 seconds
=============================================================
