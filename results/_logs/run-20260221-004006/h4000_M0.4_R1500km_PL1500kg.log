[command] /home/shoh95/anaconda3/envs/aerofc/bin/python /home/shoh95/Programming/HFCAD/app/main.py -i /home/shoh95/Programming/HFCAD/app/input_sweep_r22/h4000_M0.4_R1500km_PL1500kg.ini --outdir /home/shoh95/Programming/HFCAD/results/input_sweep_r22
[start] 2026-02-21 00:44:53

Auto-widening W/S scan window for min_combined_pw: 1900.0..2600.0 -> 1725.0..2775.0 Pa (factor 1.500, lower_hit=True, upper_hit=False, min_on_edge=False).
Auto-widening W/S scan window for min_combined_pw: 1725.0..2775.0 -> 1462.5..3037.5 Pa (factor 1.500, lower_hit=True, upper_hit=False, min_on_edge=False).
ADRpy constraint sizing (min_combined_pw): W/S=2212.5 Pa (225.61 kg/m^2), P/W_TO=0.18089 kW/kg, P/W_climb=0.18599 kW/kg, P/W_cruise=0.13824 kW/kg
Curve minimum (combined/combined): W/S=2212.5 Pa (225.61 kg/m^2), P/W=0.18599 kW/kg
Curve minimum (takeoff/take-off): W/S=1462.5 Pa (149.13 kg/m^2), P/W=0.10196 kW/kg
Curve minimum (climb/climb): W/S=2312.5 Pa (235.81 kg/m^2), P/W=0.18478 kW/kg
Curve minimum (cruise/cruise): W/S=2312.5 Pa (235.81 kg/m^2), P/W=0.13403 kW/kg
======================================================
======================= ITER 1 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=1024.567 kW).

-----------------------
ptotal_climb: 1,278 kW, mtom_est: 7,001 kg, mtom: 5,000 kg, residual: +2,001.20 kg

MTOM update: initial_bracket_probe_1, relax=1.000 -> mtom_next=5,325.00 kg

======================================================
======================= ITER 2 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=1091.149 kW).

-----------------------
ptotal_climb: 1,361 kW, mtom_est: 7,255 kg, mtom: 5,325 kg, residual: +1,930.33 kg

MTOM update: initial_bracket_probe_2, relax=1.000 -> mtom_next=5,650.00 kg

======================================================
======================= ITER 3 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=1157.746 kW).

-----------------------
ptotal_climb: 1,444 kW, mtom_est: 7,511 kg, mtom: 5,650 kg, residual: +1,861.00 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=7,627.50 kg

======================================================
======================= ITER 4 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=1562.980 kW).

-----------------------
ptotal_climb: 1,950 kW, mtom_est: 9,072 kg, mtom: 7,628 kg, residual: +1,444.87 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=10,297.12 kg

======================================================
======================= ITER 5 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=2110.023 kW).

-----------------------
ptotal_climb: 2,632 kW, mtom_est: 11,200 kg, mtom: 10,297 kg, residual: +903.02 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=13,901.12 kg

======================================================
======================= ITER 6 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=2848.531 kW).

-----------------------
ptotal_climb: 3,553 kW, mtom_est: 14,102 kg, mtom: 13,901 kg, residual: +201.18 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=14,934.18 kg

======================================================
======================= ITER 7 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=3060.236 kW).

-----------------------
ptotal_climb: 3,817 kW, mtom_est: 14,941 kg, mtom: 14,934 kg, residual: +6.34 kg

MTOM update: newton_prebracket, relax=1.000 -> mtom_next=14,967.81 kg

======================================================
======================= ITER 8 =======================
Fuel-cell system mass representative phase: cruise (P_fc_sys=3067.096 kW).

-----------------------
ptotal_climb: 3,826 kW, mtom_est: 14,967 kg, mtom: 14,968 kg, residual: -0.40 kg


CONVERGED

CONVERGED STATE [MTOM iteration 8]
  MTOM=14,967 kg | Wing loading=225.61 kg/m^2 | P/W(climb)=255.61 W/kg
  Phase power: climb=3,825.8 kW | cruise=3,067.1 kW | loiter=2,453.4 kW | takeoff=3,719.8 kW | cruise+charger=3,067.1 kW
  Power split (climb): FC=2,849.6 kW | Battery=949.9 kW | Compressor=26.3 kW | Cooling=1,266.2 kW | H2=75.806 g/s
  Compressor max across phases: 221.2 kW (cruise)
  FC representative phase (mass sizing): cruise (3,067.1 kW)
  Mass summary: MTOM=14,967 kg | Powertrain=5,027 kg | Tank=2,069.8 kg | Fuel=919.9 kg | Battery=730.1 kg | Nacelle power density=0.73 kW/kg
  Geometry: Main wing area=66.34 m^2 | Horizontal tail area=7.085 m^2 | Horizontal tail location=25.055 m | Vertical tail area=7.162 m^2 | Vertical tail location=24.374 m
  Config: wing loading input=225.61 kg/m^2 | P/W TO/Cl/Cr/Lo=0.18089/0.18599/0.13824/0.11059 kW/kg

=============================================================
========================= CONVERGED =========================
=============================================================
Constraint sizing: ENABLED (min_combined_pw)
Input W/S: 225.61 kg/m^2 (2,212.5 Pa)
Input P/W [kW/kg]: takeoff 0.18089, climb 0.18599, cruise 0.13824, loiter 0.11059
Converged P/W [kW/kg]: takeoff 0.24853, climb 0.25561, cruise 0.20492, loiter 0.16392
-------------------------------------------------------------

# Mission Time
Climb time: 10.09 min (0.17 h)
Cruise time: 173.98 min (2.90 h)
Total flight time: 206.08 min (3.43 h)

# Phase Power Breakdown
Phase      Time[min]     Total[kW]    FC Stack[kW]   Battery[kW]   Compressor[kW]   Cooling[kW]   mdot_H2[g/s]
--------------------------------------------------------------------------------------------------------------
ready           0.00         191.3           191.3           0.0              0.0           0.0         0.0
taxi            5.00         382.6           382.6           0.0              0.0           0.0         7.6
takeoff         1.00       3,719.8         2,771.6         923.9             24.3       1,048.2        65.6
climb          10.09       3,825.8         2,849.6         949.9             26.3       1,266.2        75.8
cruise        173.98       3,067.1         2,845.9           0.0            221.2       1,250.9        77.7
loiter         15.00       2,453.4         2,276.7           0.0            176.8       1,012.7        62.7
landing         1.00           0.0             0.0           0.0              0.0           0.0         0.0

Pcomp_max (solved phases): 221.2 kW (cruise)
Pnet (climb): 3,455 kW
Pelectricnet (climb): 3,800 kW
eta_pt: 0.9031

# Geometry
Main Wing Area: 66.34 m^2
Wingspan: 24.44 m
Fuselage Length: 27.45 m
Hydrogen Tank Length: 18.44 m
Horizontal Tail Area: 7.08 m^2
Vertical Tail Area: 7.16 m^2
Horizontal Tail span: 5.65 m
Vertical Tail span: 3.69 m
Horizontal Tail X_Position: 25.05 m
Vertical Tail X_Position: 24.37 m

# Single Nacelle (1/2)
Stack(1/2): 887 kg, Compressor: 189 kg, Humidifier: 304 kg, HX: 716 kg
Fuelcell System(FCS; Stack+Compressor+Humidifier+Hx): 2,096 kg
Representative FC phase: cruise
Specific Power of Fuelcell System: 0.732 kW/kg
Stack dimension: dX=0.365 m, dY=0.520 m, dZ=0.520 m
Heat Exchanger dimension: dX=1.902 m, dY=1.902 m, dZ=0.221 m

# ALL Nacelles
FCS_total: 4,193 kg
PMAD: 330 kg
Motors: 504 kg

# Total Mass Breakdown
-----------------------
Powertrain (FCS_total+PMAD+Motors): 5,027 kg
-----------------------
Main Wing: 1,340 kg
Horizontal Tail: 78 kg
Vertical Tail: 118 kg
Fuselage: 1,118 kg
Landing gear(main): 243 kg
Landing gear(nose): 65 kg
Flight Control System: 366 kg
Electric System: 300 kg
Instruments: 196 kg
Hydraulics: 180 kg
Furnishing: 718 kg
-----------------------
Operating Empty Mass(OEM): 4,721 kg
-----------------------
Hydrogen Tank: 2,070 kg
Hydrogen Fuel: 919.9 kg
Battery: 730.1 kg
-----------------------
Payload: 1,500 kg
-----------------------
Maximum Takeoff Mass(MTOM): 14,967 kg
-----------------------

Wing loading (MTOM/S_wing): 225.61 kg/m^2
Power-to-weight (maxPow/MTOM): 255.61 W/kg

mdot_H2(cruise): 77.7 g/s
Hydrogen Tank Volume: 39.4 m^3
========================== END ==============================


=============================================================
Execution time: 4.2 seconds
=============================================================
