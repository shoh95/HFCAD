[constraint_sizing]
enable = True
selection = min_combined_pw
ws_min_pa = 1900
ws_max_pa = 2600
ws_step_pa = 50
ws_refine_passes = 5
ws_refine_span_fraction = 0.20
pw_margin_fraction = 0.0
propulsion_type = electric
takeoff_constraint = take-off
climb_constraint = climb
cruise_constraint = cruise
use_combined_for_phases = False
scan_quiet = False
write_trade_csv = True

[constraint_brief]
rwyelevation_m = False
groundrun_m = 400
stloadfactor = 1.5
turnalt_m = 3500
turnspeed_ktas = 160
climbalt_m = 3500
climbspeed_kias = 160
climbrate_fpm = 1300
cruisealt_m = 3500
cruisespeed_ktas = 160
cruisethrustfact = 1.0
servceil_m = 6000
secclimbspd_kias = 110
vstallclean_kcas = 100

[constraint_performance]
cdto = 0.0414
clto = 1.2
clmax_to = 2.15
clmax_clean = 1.45
cdmin_clean = 0.0254
mu_r = 0.02
etaprop_takeoff = 0.70
etaprop_climb = 0.80
etaprop_cruise = 0.85
etaprop_turn = 0.85
etaprop_servceil = 0.80

[constraint_geometry]
sweep_le_deg = 2.0
sweep_mt_deg = 0.0

[solver]
power_tol_w = 1000.0
mtom_tol_kg = 5.0
max_outer_iter = 200
max_inner_iter = 200
mtom_solver = newton
newton_max_rel_step = 0.35
newton_min_step_kg = 0.1
newton_slope_eps = 1e-6
newton_relax_init = 1.0
newton_relax_min = 0.05
newton_relax_decrease = 0.5
newton_relax_increase = 1.3
newton_fp_relax = 1.0
newton_use_bracketing = True
newton_prebracket_allow_after_iters = 2
initial_bracket_probe_enable = True
initial_bracket_probe_iters = 2
initial_bracket_probe_rel_span = 0.065
initial_bracket_probe_min_span_kg = 140
compressor_mass_mode = surrogate

[flight]
mach_takeoff = 0.16

[fuel_cell_arch]
n_stacks_series = True
n_stacks_parallel = 2
volt_req_v = 700.0

[fuel_cell_op]
oversizing = False
beta = True

[hybrid]
psi_takeoff = 0.25
psi_climb = 0.25
psi_cruise_charger = 0.0

[eff]
eta_converter = 0.97
eta_pdu = 0.98
eta_inverter = 0.97
eta_motor = 0.95
eta_prop = 0.83
eta_em = 0.9215

[cooling]
dT_K = 60.0

[hydrogen]
rho_h2_kg_m3 = 70.0
eta_storage = 0.40
eta_vol = 0.50
coversize = 1.5
range_total_m = 2000000
h_to_m = 0.0

[wing]
aspect_ratio = 9.0
t_c = 0.15
n_ult = 4.5
lc4_deg = 0.0
taper = 0.4

[fuselage]
dfus_m = 1.65
finerat_fus_nose = 0.60
finerat_fus_tail = 0.80
fnose = 1.0
ftail = 2.0
lseat_m = 1.02
npass = 9
nseat_abreast = 3
ldoor_m = 1.0
legacy_kc_overwrite_bug = False

[tail]
enable = True
main_wing_location = False
ll_ht = 0.49380955
ll_vt = 0.48267689
c_ht = 0.6
c_vt = 0.07
a_ht = 5.0
a_vt = 1.9
lamda_ht = 0.4
lamda_vt = 0.4

[weights]
oemmisc_base_kg = 0.0
payload_kg = 1000
rhobatt_kwh_per_kg = 0.30
battery_sizing_mode = TO_Climb_only
battery_reserve_fraction = 0.25

[design]
initial_mtom_kg = 5000.0
initial_total_power_guess_w = 1000000.0

